pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	--draw=0x5f00
 --allclrs:0x5fo7
 --bgcolor:0x5f10
 --fgcolor:0x5f17
 --scroll<:0x5f28
 --nolight:0x5f29 - 0 or 1 ?
 --scroll^:0x5f2a
 --nolight:0x5f2b - 0 or 1?
 --mir/scl:0x5f2c - 0 thru 8?
 draw=0x5f2d
	hardware=0x5f40
	pokeval=0
	pokemax=0xff
	last=t()
	drawinit=peek(draw)
end

function _update()
	now=t()
	local dt=now-last
	if dt > 1.25 then
		pokeval+=1
		if pokeval > pokemax then
			pokeval = 0
			poke(draw,drawinit)
			draw += 1
			drawinit=peek(draw)
		end
		if draw >=hardware then
			draw=0x5f00
		end
		last=now
	end
	poke(draw,pokeval)
end

function _draw()
	cls(0)
	for y=30,98,2 do
		for x=30,98,2 do
			local c=flr(rnd(16))+1
			pset(x,y,c)
		end
	end
	circfill(64,64,32,7)
	print("current mem: "..tostr(draw,0x1))
	print("poke val: "..tostr(pokeval,0x1))

end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
