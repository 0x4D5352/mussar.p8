pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- rules:
-- if c, nl & nr == 1, then 0
-- if c, nl & nr == 0, then 0
-- if c, nr == 0 & nl == 1, then 0
-- else c == 1

function rndclr()
	return flr(rnd(16))
end

function _init()
	on = rndclr()
	off = rndclr()
	while off == on do
		off = rndclr()
	end
	cls(off)
	for y=0,127,1 do
		for x=0,127,1 do
			if rnd() >= 0.15 then
				pset(x,y,on)
			end
		end
	end
end

-- todo: separate the logic from the drawing such that you're no longer checking x+1 after updating x
function _draw()
	for y=0,127,1 do
		for x=0,127,1 do
			local c = pget(x,y)
			local l = pget(x-1, y)
			local r = pget(x+1,y)
			if c == on and l == on and r == on then
				pset(x,y,off)
			elseif c == off and l == off and r == off then
				pset(x,y,off)
			elseif c == off and l == on and r == off then
				pset(x,y,off)
			else
				pset(x,y,on)
		end
		end
	end
end


__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
