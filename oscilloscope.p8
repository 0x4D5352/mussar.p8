pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- pset(r+x,r+y-n,6)
-- z = cos(distance/amplitude-t())*scalar
--globals
function _init()
	a=1
	r = 10
	amplitude = 1
	scalar = 64
	vertical = 10
	horizontal = 2
	turbidity = 0
	offset = 64 - r
	g = flr(rnd(15))+1
end

function fourier(n,c)
	--local f_color = flr(rnd(15))+1
	for y = -r,r,vertical do
		--local y_color = flr(rnd(15))+1	
		for x = -r,r,horizontal do
			--local x_color = flr(rnd(15))+1
			for i = 0, n do
				--local i_color = flr(rnd(15))+1
				local noise = rnd() * turbidity
				if (rnd() >= 0.5) noise *= -1
				local val = (sin((i*x)/amplitude-t())/i)*scalar
				pset(r+x+noise+offset, r+y-val+noise+offset, c)
			end
		end
	end
end

function _draw()
	cls()
	--local c = flr(rnd(15))+1
	fourier(a,g)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
